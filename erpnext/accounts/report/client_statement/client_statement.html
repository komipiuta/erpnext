
<style>
.print-format {
	padding: 0.1in;
	margin-top: 0mm;
  	margin-left: 0mm;
  	margin-right: 0mm;
}
body {
        margin: 0 !important;
        border: 0 !important;
        padding: 0mm 0mm 0mm !important;
      }
</style>

<h2 class="text-center">{%= __("Statement of Account") %}</h2>
<h4 class="text-center">
	{% if (filters.party_name) { %}
		{%= filters.party_name %}
	{% } else if (filters.party && filters.show_name) { %}
		{%= filters.party %}
	{% } else if (filters.account) { %}
		{%= filters.account %}
	{% } %}
</h4>

<h6 class="text-center">
	{% if (filters.tax_id) { %}
	{%= __("Tax Id: ")%}	{%= filters.tax_id %}
	{% } %}
</h6>

<h5 class="text-center">
	{%= frappe.datetime.str_to_user(filters.from_date) %}
	{%= __("to") %}
	{%= frappe.datetime.str_to_user(filters.to_date) %}
</h5>

<hr>
<div>
	<p><strong>{%= report.raw_data.data_to_be_printed.customer_name %}</strong></p>
	<p><strong>{%= report.raw_data.data_to_be_printed.customer_details.address_line1 %}</strong></p>
	<p><strong>{%= report.raw_data.data_to_be_printed.customer_details.address_line2 %}</strong></p>
	<p><strong>{%= report.raw_data.data_to_be_printed.customer_details.city %}</strong></p>
	<p><strong>{%= report.raw_data.data_to_be_printed.customer_details.state %}</strong></p>
</div>
<hr>

<table class="table table-bordered">
	<thead>
		<tr>
			<th style="width: 12%">{%= __("Date") %}</th>
			<th style="width: 15%">{%= __("Description") %}</th>
			<th style="width: 25%">{%= __("Reference") %}</th>
			<th style="width: 15%">{%= __("Debit") %}</th>
			<th style="width: 15%">{%= __("Credit") %}</th>
			<th style="width: 18%">{%= __("Balance (Dr - Cr)") %}</th>
		</tr>
	</thead>
	<tbody>
		{% for(var i=0, l=data.length-1; i<l; i++) { %}

		
			<tr>
			{% if(data[i].posting_date) { %}
				<td>{%= frappe.datetime.str_to_user(data[i].posting_date) %}</td>
				<td>{%= data[i].voucher_type %}</td>
				<td>{%= data[i].voucher_no %}</td>
				<td style="text-align: right">
					{%= format_currency(data[i].debit, filters.presentation_currency) %}</td>
				<td style="text-align: right">
					{%= format_currency(data[i].credit, filters.presentation_currency) %}
				</td>
			{% } else { %}
				<td></td>
				<td></td>
				<td><b>{%= frappe.format(data[i].account, {fieldtype: "Link"}) || "&nbsp;" %}</b></td>
				<td style="text-align: right">
					{%= data[i].account && format_currency(data[i].debit, filters.presentation_currency) %}
				</td>
				<td style="text-align: right">
					{%= data[i].account && format_currency(data[i].credit, filters.presentation_currency) %}
				</td>
			{% } %}
				<td style="text-align: right">
					{%= format_currency(data[i].balance, filters.presentation_currency) %}
				</td>
			</tr>
		{% } %}
	</tbody>
</table>
<hr/>

<table class="table table-bordered" width="100%">
	<tr>
		<th>Age (Days)</th>
	</tr>
	<tr>
		<th>
			0-30
		</th>
		<th>
			31-60
		</th>
		<th>
			61-90
		</th>
		<th>
			91-Above
		</th>
	</tr>
	<tr>
		<td>
			{%= format_currency(report.raw_data.data_to_be_printed.current) %}
		</td>
		<td>
			{%= format_currency(report.raw_data.data_to_be_printed.days30) %}
		</td>
		<td>
			{%= format_currency(report.raw_data.data_to_be_printed.days60) %}
		</td>
		<td>
			{%= format_currency(report.raw_data.data_to_be_printed.days90) %}
		</td>
	</tr>
	
</table>

<p class="text-right text-muted">Printed On {%= frappe.datetime.str_to_user(frappe.datetime.get_datetime_as_string()) %}</p>
